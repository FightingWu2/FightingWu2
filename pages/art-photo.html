<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>摄影作品 - Art</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <style>
    body { background: #182A2A; color: #F9F6C0; font-family: 'Inter', system-ui, sans-serif; }
    .gallery-masonry {
      column-count: 3;
      column-gap: 2rem;
      margin-top: 2rem;
      max-width: 1100px;
      margin-left: auto;
      margin-right: auto;
    }
    .masonry-item {
      break-inside: avoid;
      margin-bottom: 2rem;
      background: #2B7746;
      border-radius: 1.5rem;
      box-shadow: 0 4px 24px 0 #0004;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.3s, box-shadow 0.3s;
      position: relative;
    }
    .masonry-item:hover {
      transform: scale(1.04) translateY(-6px);
      box-shadow: 0 8px 32px 0 #0006;
    }
    .masonry-img {
      width: 100%;
      display: block;
      border-radius: 1.5rem 1.5rem 0 0;
      object-fit: cover;
    }
    .masonry-title {
      color: #A4D278;
      font-size: 1.1rem;
      font-weight: 600;
      text-align: center;
      padding: 1rem 0;
      background: #182A2A;
    }
    @media (max-width: 900px) {
      .gallery-masonry { column-count: 2; }
    }
    @media (max-width: 600px) {
      .gallery-masonry { column-count: 1; }
    }
    .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100vw; height: 100vh; background: rgba(24,42,42,0.92); align-items: center; justify-content: center; }
    .modal.active { display: flex; }
    .modal-content { background: #2B7746; border-radius: 1.5rem; padding: 2rem; box-shadow: 0 8px 32px 0 #0008; text-align: center; max-width: 90vw; max-height: 90vh; }
    .modal-img { max-width: 60vw; max-height: 60vh; border-radius: 1rem; box-shadow: 0 2px 16px 0 #0006; }
    .modal-title { color: #A4D278; font-size: 1.3rem; font-weight: 700; margin-top: 1.2rem; }
    .close-btn { position: absolute; top: 1.5rem; right: 2rem; color: #F9F6C0; font-size: 2rem; background: none; border: none; cursor: pointer; z-index: 1100; }
  </style>
</head>
<body>
  <main class="min-h-screen flex flex-col items-center justify-center py-16 px-4">
    <div class="w-full max-w-3xl flex items-center mb-8">
      <button onclick="goBack()" class="back-btn mr-3" style="position:static;"><i class="fa fa-arrow-left"></i></button>
      <h1 class="text-4xl md:text-5xl font-bold text-center text-[#A4D278] tracking-tight flex-1">摄影作品</h1>
    </div>
    <div class="gallery-masonry">
      <div class="masonry-item" onclick="showModal('/Fighting-Wu/pages/img/photo1.jpg','向往')">
        <img src="/Fighting-Wu/pages/img/photo1-thumb.jpg" class="masonry-img" alt="向往">
        <div class="masonry-title">向往</div>
      </div>
      <div class="masonry-item" onclick="showModal('/Fighting-Wu/pages/img/photo2.jpg','彩虹下的红旗')">
        <img src="/Fighting-Wu/pages/img/photo2-thumb.jpg" class="masonry-img" alt="彩虹下的红旗">
        <div class="masonry-title">彩虹下的红旗</div>
      </div>
      <div class="masonry-item" onclick="showModal('/Fighting-Wu/pages/img/photo3.jpg','烟火')">
        <img src="/Fighting-Wu/pages/img/photo3-thumb.jpg" class="masonry-img" alt="烟火">
        <div class="masonry-title">烟火</div>
      </div>
    </div>
    <div class="modal" id="photoModal">
      <button class="close-btn" onclick="closeModal()"><i class="fa fa-times"></i></button>
      <div class="modal-content">
        <img id="modalImg" class="modal-img" src="" alt="作品大图">
        <div id="modalTitle" class="modal-title"></div>
      </div>
    </div>
  </main>
  <script>
    function showModal(img, title) {
      document.getElementById('modalImg').src = img;
      document.getElementById('modalTitle').innerText = title;
      document.getElementById('photoModal').classList.add('active');
    }
    function closeModal() {
      document.getElementById('photoModal').classList.remove('active');
    }
    document.getElementById('photoModal').addEventListener('click', function(e) {
      if (e.target === this) closeModal();
    });
    function goBack() {
      // 首先尝试使用浏览器历史记录
      if (window.history.length > 1) {
        window.history.back();
      } else {
        // 无历史记录，返回art.html列表页
        window.location.href = 'art.html';
      }
    }
  </script>
</body>
</html>
