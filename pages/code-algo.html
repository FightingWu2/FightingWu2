<div class="w-full min-h-screen flex items-center justify-center" style="background:transparent;">
  <div class="notion-md note-box" style="max-width: 820px; width: 100%; position:relative;">
    <button onclick="goBack()" class="back-btn" style="position:absolute;left:1.5rem;top:1.5rem;z-index:10;"><i class="fa fa-arrow-left"></i></button>
    <h1>çº¦ç‘Ÿå¤«ç¯é—®é¢˜</h1>
    <hr>
    <blockquote>ğŸ“š <b>çº¦ç‘Ÿå¤«ç¯ï¼ˆJosephus Problemï¼‰æ˜¯ä¸€ä¸ªç»å…¸çš„æ•°å­¦é—®é¢˜ï¼Œåœ¨è®¡ç®—æœºç§‘å­¦ä¸­å¸¸ç”¨äºè€ƒå¯Ÿé€’å½’æ€ç»´ä¸æ•°å­¦å»ºæ¨¡èƒ½åŠ›ã€‚</b></blockquote>
    <hr>
    <h2>ğŸ“– é—®é¢˜æè¿°</h2>
    <p>æœ‰ n ä¸ªäººå›´æˆä¸€åœˆï¼Œç¼–å·ä» 0 åˆ° n-1ã€‚ä»ç¼–å· 0 å¼€å§‹ï¼Œæ¯æ¬¡æ•°åˆ°ç¬¬ k ä¸ªäººå°±å°†å…¶æ·˜æ±°ï¼ˆk â‰¥ 1ï¼‰ï¼Œä¸‹ä¸€ä¸ªäººé‡æ–°ä» 1 å¼€å§‹è®¡æ•°ã€‚å¦‚æ­¤åå¤ï¼Œç›´åˆ°åªå‰©ä¸€äººã€‚æ±‚æœ€åå‰©ä¸‹çš„äººçš„ç¼–å·ã€‚</p>
    <p><b>ç¤ºä¾‹ï¼š</b>n = 7, k = 3</p>
    <ul>
      <li>åˆå§‹ï¼š[0, 1, 2, 3, 4, 5, 6]</li>
      <li>ç¬¬1è½®ï¼šæ·˜æ±° 2ï¼Œå‰©ä½™ [0, 1, 3, 4, 5, 6]ï¼ˆä» 3 ç»§ç»­è®¡æ•°ï¼‰</li>
      <li>ç¬¬2è½®ï¼šæ·˜æ±° 5ï¼Œå‰©ä½™ [0, 1, 3, 4, 6]</li>
      <li>ç¬¬3è½®ï¼šæ·˜æ±° 1ï¼Œå‰©ä½™ [0, 3, 4, 6]</li>
      <li>ç¬¬4è½®ï¼šæ·˜æ±° 6ï¼Œå‰©ä½™ [0, 3, 4]</li>
      <li>ç¬¬5è½®ï¼šæ·˜æ±° 4ï¼Œå‰©ä½™ [0, 3]</li>
      <li>ç¬¬6è½®ï¼šæ·˜æ±° 0ï¼Œ<b>æœ€åå‰©ä¸‹çš„æ˜¯ 3</b></li>
    </ul>
    <hr>
    <h2>ğŸ§  æ ¸å¿ƒæ€æƒ³</h2>
    <p>çº¦ç‘Ÿå¤«ç¯é—®é¢˜çš„å…³é”®åœ¨äºç†è§£é€’å½’å…³ç³»ã€‚å½“æˆ‘ä»¬æ·˜æ±°ä¸€ä¸ªäººåï¼Œå‰©ä¸‹çš„ n-1 ä¸ªäººå½¢æˆäº†ä¸€ä¸ªè§„æ¨¡æ›´å°çš„ç›¸åŒé—®é¢˜ï¼Œåªæ˜¯èµ·å§‹ä½ç½®å‘ç”Ÿäº†å˜åŒ–ã€‚</p>
    <p>è®¾ f(n, k) è¡¨ç¤º n ä¸ªäººã€æ­¥é•¿ä¸º k æ—¶æœ€åå¹¸å­˜è€…çš„ç¼–å·ã€‚å…³é”®è§‚å¯Ÿï¼šå½“æ·˜æ±°ä¸€ä¸ªäººåï¼Œå‰©ä½™çš„äººé‡æ–°ç¼–å·ï¼ŒåŸé—®é¢˜çš„ç­”æ¡ˆä¸æ–°é—®é¢˜çš„ç­”æ¡ˆä¹‹é—´å­˜åœ¨æ˜ å°„å…³ç³»ã€‚</p>
    <hr>
    <h2>ğŸ”§ æ–¹æ³•ä¸€ï¼šé€’å½’è§£æ³•</h2>
    <p><b>é€’æ¨å…¬å¼ï¼š</b>f(n, k) = (f(n-1, k) + k) % n</p>
    <p><b>è¾¹ç•Œæ¡ä»¶ï¼š</b>f(1, k) = 0ï¼ˆåªå‰©ä¸€äººæ—¶ï¼Œç¼–å·ä¸º 0ï¼‰</p>
    <div class="code-block-wrap" style="position:relative;">
      <button class="copy-btn" onclick="copyCode(this)" title="å¤åˆ¶ä»£ç "><i class="fa fa-copy"></i></button>
      <pre><code>// é€’å½’ç‰ˆæœ¬
function josephusRecursive(n, k) {
  // è¾¹ç•Œæ¡ä»¶ï¼šåªå‰©ä¸€ä¸ªäººæ—¶ï¼Œç¼–å·ä¸º0
  if (n === 1) return 0;
  
  // é€’å½’æ±‚è§£ n-1 è§„æ¨¡çš„é—®é¢˜
  // ç„¶ååŠ ä¸Š kï¼Œæ¨¡ nï¼Œå¾—åˆ°åŸé—®é¢˜çš„è§£
  return (josephusRecursive(n - 1, k) + k) % n;
}

// ç¤ºä¾‹ï¼šn=7, k=3
console.log(josephusRecursive(7, 3)); // è¾“å‡º: 3</code></pre>
    </div>
    <blockquote>ğŸ’¡ <b>ç†è§£è¦ç‚¹ï¼š</b>å½“æˆ‘ä»¬æ·˜æ±°ä¸€ä¸ªäººåï¼Œå‰©ä½™ n-1 ä¸ªäººçš„æ–°ç¼–å·ä»è¢«æ·˜æ±°è€…çš„ä¸‹ä¸€ä½å¼€å§‹ã€‚åŸç¼–å· x ä¸æ–°ç¼–å· y çš„å…³ç³»ä¸ºï¼šx = (y + k) % nã€‚é€šè¿‡åå‘æ˜ å°„ï¼Œå¾—åˆ°é€’å½’å…¬å¼ã€‚</blockquote>
    <hr>
    <h2>âš¡ æ–¹æ³•äºŒï¼šè¿­ä»£è§£æ³•ï¼ˆæ¨èï¼‰</h2>
    <p>å°†é€’å½’æ”¹ä¸ºè¿­ä»£ï¼Œé¿å…æ ˆæº¢å‡ºï¼Œæé«˜æ•ˆç‡ã€‚</p>
    <div class="code-block-wrap" style="position:relative;">
      <button class="copy-btn" onclick="copyCode(this)" title="å¤åˆ¶ä»£ç "><i class="fa fa-copy"></i></button>
      <pre><code>// è¿­ä»£ç‰ˆæœ¬ï¼ˆç©ºé—´ä¼˜åŒ–ï¼‰
function josephusIterative(n, k) {
  // res è¡¨ç¤ºå½“å‰è§„æ¨¡ä¸‹çš„å¹¸å­˜è€…ç¼–å·
  let res = 0; // f(1, k) = 0
  
  // ä»è§„æ¨¡ 2 å¼€å§‹ï¼Œé€æ­¥æ‰©å¤§åˆ° n
  for (let i = 2; i <= n; i++) {
    res = (res + k) % i;
  }
  
  return res;
}

// æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)</code></pre>
    </div>
    <blockquote>ğŸ’¡ <b>ä¼˜åŠ¿ï¼š</b>æ—¶é—´å¤æ‚åº¦ O(n)ï¼Œç©ºé—´å¤æ‚åº¦ O(1)ï¼Œé€‚ç”¨äºå¤§è§„æ¨¡æ•°æ®ã€‚</blockquote>
    <hr>
    <h2>ğŸ“Š æ–¹æ³•ä¸‰ï¼šæ¨¡æ‹Ÿè¿‡ç¨‹ï¼ˆç†è§£ç”¨ï¼‰</h2>
    <p>ç›´æ¥æ¨¡æ‹Ÿæ·˜æ±°è¿‡ç¨‹ï¼Œè™½ç„¶æ•ˆç‡è¾ƒä½ï¼Œä½†æœ‰åŠ©äºç†è§£é—®é¢˜æœ¬è´¨ã€‚</p>
    <div class="code-block-wrap" style="position:relative;">
      <button class="copy-btn" onclick="copyCode(this)" title="å¤åˆ¶ä»£ç "><i class="fa fa-copy"></i></button>
      <pre><code>// æ¨¡æ‹Ÿç‰ˆæœ¬ï¼ˆä½¿ç”¨æ•°ç»„ï¼‰
function josephusSimulate(n, k) {
  // åˆ›å»ºäººå‘˜åˆ—è¡¨
  const people = Array.from({ length: n }, (_, i) => i);
  let index = 0; // å½“å‰è®¡æ•°ä½ç½®
  
  // ç›´åˆ°åªå‰©ä¸€äºº
  while (people.length > 1) {
    // æ•°åˆ°ç¬¬ k ä¸ªäººï¼ˆå®é™…ç§»åŠ¨ k-1 æ­¥ï¼‰
    index = (index + k - 1) % people.length;
    // æ·˜æ±°å½“å‰ä½ç½®çš„äºº
    people.splice(index, 1);
    // index ä¸éœ€è¦æ”¹å˜ï¼Œå› ä¸ºåé¢çš„äººå‰ç§»äº†
  }
  
  return people[0];
}

// æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(n)</code></pre>
    </div>
    <blockquote>âš ï¸ <b>æ³¨æ„ï¼š</b>æ­¤æ–¹æ³•åœ¨ n è¾ƒå¤§æ—¶æ•ˆç‡ä½ï¼Œä½†èƒ½æ¸…æ™°åœ°å±•ç¤ºæ·˜æ±°è¿‡ç¨‹ï¼Œé€‚åˆç”¨äºéªŒè¯å’Œç†è§£ã€‚</blockquote>
    <hr>
    <h2>ğŸ” æ–¹æ³•å››ï¼šæ•°å­¦å…¬å¼ï¼ˆk=2 çš„ç‰¹æ®Šæƒ…å†µï¼‰</h2>
    <p>å½“ k = 2 æ—¶ï¼Œå­˜åœ¨æ›´é«˜æ•ˆçš„æ•°å­¦è§£æ³•ã€‚</p>
    <ul>
      <li>æ‰¾åˆ°å°äºç­‰äº n çš„æœ€å¤§ 2 çš„å¹‚ï¼Œè®°ä¸º 2^m</li>
      <li>f(n, 2) = 2 * (n - 2^m) + 1</li>
    </ul>
    <div class="code-block-wrap" style="position:relative;">
      <button class="copy-btn" onclick="copyCode(this)" title="å¤åˆ¶ä»£ç "><i class="fa fa-copy"></i></button>
      <pre><code>// k=2 æ—¶çš„æ•°å­¦å…¬å¼è§£æ³•
function josephusK2(n) {
  // æ‰¾åˆ°å°äºç­‰äº n çš„æœ€å¤§ 2 çš„å¹‚
  let m = Math.floor(Math.log2(n));
  let powerOf2 = Math.pow(2, m);
  
  // åº”ç”¨å…¬å¼
  return 2 * (n - powerOf2) + 1;
}

// æ—¶é—´å¤æ‚åº¦ï¼šO(log n)</code></pre>
    </div>
    <hr>
    <h2>ğŸ“ˆ å¤æ‚åº¦åˆ†æ</h2>
    <table style="width: 100%; border-collapse: collapse; margin: 1em 0;">
      <tr style="background: #f3f3f3;">
        <th style="padding: 0.5em; border: 1px solid #ddd; text-align: left;">æ–¹æ³•</th>
        <th style="padding: 0.5em; border: 1px solid #ddd; text-align: left;">æ—¶é—´å¤æ‚åº¦</th>
        <th style="padding: 0.5em; border: 1px solid #ddd; text-align: left;">ç©ºé—´å¤æ‚åº¦</th>
        <th style="padding: 0.5em; border: 1px solid #ddd; text-align: left;">é€‚ç”¨åœºæ™¯</th>
      </tr>
      <tr>
        <td style="padding: 0.5em; border: 1px solid #ddd;">é€’å½’</td>
        <td style="padding: 0.5em; border: 1px solid #ddd;">O(n)</td>
        <td style="padding: 0.5em; border: 1px solid #ddd;">O(n)</td>
        <td style="padding: 0.5em; border: 1px solid #ddd;">å°è§„æ¨¡æ•°æ®</td>
      </tr>
      <tr>
        <td style="padding: 0.5em; border: 1px solid #ddd;">è¿­ä»£</td>
        <td style="padding: 0.5em; border: 1px solid #ddd;">O(n)</td>
        <td style="padding: 0.5em; border: 1px solid #ddd;">O(1)</td>
        <td style="padding: 0.5em; border: 1px solid #ddd;">æ¨èï¼Œé€šç”¨è§£æ³•</td>
      </tr>
      <tr>
        <td style="padding: 0.5em; border: 1px solid #ddd;">æ¨¡æ‹Ÿ</td>
        <td style="padding: 0.5em; border: 1px solid #ddd;">O(nÂ²)</td>
        <td style="padding: 0.5em; border: 1px solid #ddd;">O(n)</td>
        <td style="padding: 0.5em; border: 1px solid #ddd;">ç†è§£é—®é¢˜ç”¨</td>
      </tr>
      <tr>
        <td style="padding: 0.5em; border: 1px solid #ddd;">æ•°å­¦å…¬å¼(k=2)</td>
        <td style="padding: 0.5em; border: 1px solid #ddd;">O(log n)</td>
        <td style="padding: 0.5em; border: 1px solid #ddd;">O(1)</td>
        <td style="padding: 0.5em; border: 1px solid #ddd;">k=2 çš„ç‰¹æ®Šæƒ…å†µ</td>
      </tr>
    </table>
    <hr>
    <h2>ğŸ¯ åº”ç”¨åœºæ™¯</h2>
    <ul>
      <li><b>ç®—æ³•é¢è¯•ï¼š</b>ç»å…¸çš„é€’å½’ä¸æ•°å­¦å»ºæ¨¡é—®é¢˜</li>
      <li><b>æ¸¸æˆè®¾è®¡ï¼š</b>å›åˆåˆ¶æ·˜æ±°æœºåˆ¶</li>
      <li><b>èµ„æºåˆ†é…ï¼š</b>å¾ªç¯é˜Ÿåˆ—ä¸­çš„å…ƒç´ è°ƒåº¦</li>
      <li><b>å¯†ç å­¦ï¼š</b>æŸäº›åŠ å¯†ç®—æ³•çš„è½®æ¢æœºåˆ¶</li>
    </ul>
    <hr>
    <h2>ğŸ”— ç›¸å…³é¢˜ç›®</h2>
    <ul>
      <li><a href="https://leetcode.cn/problems/find-the-winner-of-the-circular-game/" target="_blank">LeetCode 1823. æ‰¾å‡ºæ¸¸æˆçš„è·èƒœè€…</a></li>
      <li>æ‰©å±•ï¼šè¾“å‡ºæ¯æ¬¡æ·˜æ±°çš„é¡ºåº</li>
      <li>æ‰©å±•ï¼šæ­¥é•¿ k å¯å˜çš„æƒ…å†µ</li>
    </ul>
    <hr>
    <blockquote>â€œçº¦ç‘Ÿå¤«ç¯é—®é¢˜å®Œç¾å±•ç¤ºäº†å¦‚ä½•é€šè¿‡é€’å½’æ€ç»´å°†å¤æ‚é—®é¢˜è½¬åŒ–ä¸ºç®€å•å­é—®é¢˜ï¼Œæ˜¯å­¦ä¹ é€’å½’ä¸æ•°å­¦å»ºæ¨¡çš„ç»ä½³èŒƒä¾‹ã€‚â€</blockquote>
  </div>
</div>
<style>
.w-full.min-h-screen.flex.items-center.justify-center {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100vw;
  background: transparent;
}
.notion-md.note-box {
  background: #fff;
  color: #222;
  border-radius: 16px;
  box-shadow: 0 2px 16px 0 rgba(0,0,0,0.06);
  border: 1.5px solid #e5e7eb;
  padding: 2.5rem 2rem 2rem 2rem;
  margin-bottom: 3rem;
  margin-top: 1.5rem;
  margin-left: auto;
  margin-right: auto;
  position: relative;
}
.notion-md.note-box h1 {
  display: block;
  width: 100%;
  font-size: 2.7rem;
  text-align: center;
  margin-bottom: 1.4em;
  margin-top: 0.2em;
  color: #1e293b;
  font-weight: 800;
  line-height: 1.2;
}
.notion-md.note-box h2, .notion-md.note-box h3 {
  color: #1e293b;
}
.notion-md.note-box a {
  color: #2563eb;
}
.notion-md.note-box blockquote {
  background: #f7f6f3;
  border-left: 4px solid #eab308;
  color: #555;
  padding: 0.7em 1em;
  margin: 1.2em 0;
  border-radius: 8px;
}
.notion-md.note-box code, .notion-md.note-box pre {
  background: #f3f3f3;
  color: #222;
}
.notion-md.note-box pre {
  padding: 1em;
  margin: 1.2em 0;
  overflow-x: auto;
}
.notion-md.note-box hr {
  border: none;
  border-top: 1.5px solid #ececec;
  margin: 2em 0;
}
.copy-btn {
  position: absolute;
  top: 10px;
  right: 14px;
  background: #f3f3f3;
  border: none;
  border-radius: 6px;
  padding: 4px 10px;
  font-size: 1.1em;
  color: #555;
  cursor: pointer;
  transition: background 0.2s;
  z-index: 2;
}
.copy-btn:hover {
  background: #e0e7ef;
  color: #222;
}
.code-block-wrap pre {
  padding-right: 3.5em;
}
</style>
<script>
function copyCode(btn) {
  const code = btn.parentElement.querySelector('code').textContent;
  if (navigator.clipboard) {
    navigator.clipboard.writeText(code).then(() => {
      btn.innerHTML = '<i class="fa fa-check"></i>';
      setTimeout(()=>{btn.innerHTML = '<i class=\"fa fa-copy\"></i>';}, 1200);
    }, () => {
      fallbackCopy(code, btn);
    });
  } else {
    fallbackCopy(code, btn);
  }
}
function fallbackCopy(code, btn) {
  const textarea = document.createElement('textarea');
  textarea.value = code;
  textarea.setAttribute('readonly', '');
  textarea.style.position = 'absolute';
  textarea.style.left = '-9999px';
  document.body.appendChild(textarea);
  textarea.select();
  try {
    document.execCommand('copy');
    btn.innerHTML = '<i class="fa fa-check"></i>';
    setTimeout(()=>{btn.innerHTML = '<i class=\"fa fa-copy\"></i>';}, 1200);
  } catch (err) {}
  document.body.removeChild(textarea);
}
</script>
